sudo mysql -u root -p'password' -e "CREATE DATABASE IF NOT EXISTS quizdb;"

sudo mysql -u root -p'password' -e "CREATE USER 'quiz-user'@'%' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON quizdb.* TO 'quiz-user'@'%'; FLUSH PRIVILEGES;"

sudo mysql -u root -p'password' -e "SHOW DATABASES;"

sudo mysql -u root -p'password' quizdb -e "CREATE TABLE user (id INT AUTO_INCREMENT PRIMARY KEY, username VARCHAR(255) NOT NULL, password VARCHAR(512) NOT NULL, is_admin TINYINT(1) NOT NULL);"

sudo mysql -u root -p'password' quizdb -e "ALTER TABLE user MODIFY COLUMN password VARCHAR(512);"

sudo mysql -u root -p'password' quizdb -e "SHOW TABLES;"

sudo mysql -u root -p'password' -e "SHOW DATABASES;"

sudo mysql -u root -p'password' -e "SHOW DATABASES; SHOW TABLES FROM quizdb; DESCRIBE quizdb.user;"


sudo mysql -u root -p'password' quizdb -e "SELECT * FROM quiz;"

sudo mysql -u root -p'password' quizdb -e "SELECT id, question, correct_answer FROM quiz;"

mysql -h quiz-db-instance.cntmq2bmtycd.ap-south-1.rds.amazonaws.com -u quiz_user -p


sudo mysql -u root -p -e "
CREATE USER 'quiz_user'@'%' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON quizdb.* TO 'quiz_user'@'%';
FLUSH PRIVILEGES;"

echo "jenkins ALL=(ALL) NOPASSWD: ALL" | sudo tee /etc/sudoers.d/jenkins && sudo chmod 440 /etc/sudoers.d/jenkins && sudo visudo -c
